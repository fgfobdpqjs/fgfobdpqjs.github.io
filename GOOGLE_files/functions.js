function get_user_card(t){t.each(function(t){var e=$(this),i=$(this).attr("data-uid");if(!i)return!1;$(this).popover({trigger:"hover",placement:"right",html:!0,delay:{show:400,hide:750},content:'<img alt="loadding" src="//www.mcmod.cn/static/public/images/loading-colourful.gif"/>'}),$(this).addClass("poped"),$(this).on("shown.bs.popover",function(t){var e=this;$("body div.popover:last").on("mouseenter",function(){$(e).attr("hold",!0)}).on("mouseleave",function(){$(e).removeAttr("hold"),setTimeout(function(){$(e).popover("hide")},1e3)})}).on("hide.bs.popover",function(t){$(this).attr("hold")&&t.preventDefault()}),$(this).on("shown.bs.popover",function(){var t=$.ajax({url:"//"+strStaticUrl+"/object/UserCard/",async:!0,type:"post",data:{uid:i},beforeSend:function(){},complete:function(a){var n=$.parseJSON(t.responseText);if(0==n.state){var r=get_usercard_str(i,n.data);$("body div.popover:last").css("max-width","initial"),$("body div.popover:last .popover-body").css("padding","0px").html(r),e.popover("update"),$("body div.popover:last .popover-body .common-user-card .card-avatar .card-close").bind("click",function(){e.removeAttr("hold").popover("hide")})}else common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[n.state],"err")}})})})}function get_usercard_str(t,e){var i=[0,0,0,0,0,0],a={},n="";if(Object.keys(e.tracker).length>0)for(var r=0;r<6;r++)void 0!==e.tracker[r]&&(i[r]=1,a[r]='<div class="block rank-'+e.tracker[r].rank+'"><div class="item"><p>'+e.tracker[r].title+'</p><p class="text-muted">'+e.tracker[r].value+"</p></div></div>");for(r=0;r<6;r++)1==i[r]?n+=a[r]:n+='<div class="block"><div class="item empty"><p class="text-muted">/ -- /</p></div></div>';var o=[0,0,0],c={},s="";if(Object.keys(e.badge).length>0)for(r=0;r<3;r++)void 0!==e.badge[r]&&(o[r]=1,c[r]='<div class="block"><div class="icon"><div class="i1"><div class="i2"><div class="img"><img title="'+e.badge[r].title+'" alt="'+e.badge[r].title+'" src="'+e.badge[r].icon+'" /></div></div></div></div></div>');for(r=0;r<3;r++)1==o[r]?s+=c[r]:s+='<div class="block"><div class="icon"><div class="i1"><div class="i2"><div class="img"></div></div></div></div></div>';var l=e.username,u=e.avatar,d=e.rank,m=e.sign?e.sign:PublicLangData.center.sign.empty,h="";switch(e.online){case 0:h='<div title="'+PublicLangData.offline+'" class="state offline"></div>';break;case 1:h='<div title="'+PublicLangData.online+'" class="state online"></div>'}return'<div class="common-user-card"><div class="card-avatar" style="background: #525961;background-image: linear-gradient(#525961, #3e454c);"><div class="avatar"><a href="//center.mcmod.cn/'+t+'/" target="_blank"><img alt="'+l+'" title="'+l+'" src="'+u+'" /></a>'+h+'</div><div class="card-close">×</div></div><div class="card-userinfo"><div class="username"><a href="//center.mcmod.cn/'+t+'/" target="_blank" class="nametext" title="'+l+'">'+l+'</a><a href="//center.mcmod.cn/'+t+'/#/rank/" target="_blank" class="common-user-lv lv-'+d+'" title="Lv.'+d+'">Lv.'+d+'</a></div><div class="exp-rate text-muted">'+e.exp.yet+" / "+e.exp.total+' Exp</span></div><div class="progress exp-bar"><div class="progress-bar" role="progressbar" aria-valuenow="'+e.exp.rate+'" aria-valuemin="0" aria-valuemax="100" style="width:'+e.exp.rate+'%;"></div></div><div class="sign text-muted" title="'+m+'">'+m+'</div></div><div class="card-container"><hr/><div class="tracker-frame">'+n+'</div><div class="badge-frame">'+s+"</div></div></div>"}function reset_usercard_view(t,e){if(0==$(e).is(":visible").length)return!1;var i=$.ajax({url:"//"+strStaticUrl+"/object/UserCard/",async:!0,type:"post",data:{uid:t},beforeSend:function(){},complete:function(a){var n=$.parseJSON(i.responseText);if(0==n.state){var r=get_usercard_str(t,n.data);$(e).html(r)}else common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[n.state],"err")}})}function isFunctionExits(funcName){try{if("function"==typeof eval(funcName))return!0}catch(t){}return!1}function setOredictLoop(){var t=setTimeout(function(){!function t(){var e=setTimeout(function(){var i=jQuery(".common-oredict-loop");i.length>0&&i.each(function(){var t=jQuery(this).children(".item-table-hover:visible");jQuery(this).children(".item-table-hover").length>1&&(0==t.next().length?jQuery(this).children(".item-table-hover:eq(0)").css("display","inline-block"):t.next().css("display","inline-block"),t.hide())}),t(),clearTimeout(e)},1e3)}(),clearTimeout(t)},1e3)}function setItemListGroupLoop(t){var e=t.attr("data-url-list"),i={};try{i=$.parseJSON(e)}catch(t){}if(i.length)var a=t.attr("data-url-position")?jQuery(this).attr("data-url-position"):0,n=setTimeout(function(){!function t(e,i,a){var e=e;var a=a;var i=i;var n=setTimeout(function(){e.length>0&&(a<i.length-1?a++:a=0,e.attr("src",i[a]),t(e,i,a)),clearTimeout(n)},1e3)}(t,i,a),clearTimeout(n)},1e3)}function showTaskTip(t,e,i,a,n,r,o){r=r>0?" "+r+" Exp":"";var c=jQuery(".common-task-tip").length,s='<a href="//www.mcmod.cn/center/'+o+'/#/task/" target="_blank"><div class="common-task-tip"><div class="icon"><img src="'+t+'" /></div><div class="info"><div class="title">'+e+'</div><div class="text">'+i+'</div><div class="time">'+a+r+'</div><div class="range">'+n+"/"+n+" "+PublicLangData.meme.bksw+"! </div></div></div></a>",l=500+250*c,u=50+85*c,d="task-"+randStr(8);jQuery("body").append(s),jQuery(".common-task-tip:last").attr("id",d).animate({top:u+"px"},l),setTimeout(function(){jQuery("#"+d).fadeOut(500),jQuery(".common-task-tip").animate({top:"-=85"},750)},l+5e3)}function sloganLight(){jQuery(".common-slogan .text, .common-slogan .shadow, .common-slogan .text *, .common-slogan .shadow *").animate({"font-size":"18px"},200),jQuery(".common-slogan .text, .common-slogan .shadow, .common-slogan .text *, .common-slogan .shadow *").animate({"font-size":"20px"},200)}function toQzoneLogin(){window.open("https://www.mcmod.cn/plugs/loginConnect/qqConnect/oauth/index.php","TencentLogin","width=755,height=515,menubar=0,scrollbars=0, resizable=0,status=1,titlebar=0,toolbar=0,location=1")}function toWeiboLogin(){window.open("https://api.weibo.com/oauth2/authorize?client_id=3210955951&redirect_uri=http%3A%2F%2Fwww.mcmod.cn%2Fplugs%2FloginConnect%2FweiboConnect%2Fcallback.php&response_type=code","SinaLogin","width=755,height=515,menubar=0,scrollbars=0, resizable=0,status=1,titlebar=0,toolbar=0,location=1")}function in_array(t,e,i=!1){if(null!=t&&(t=t.toLowerCase()),i){var a="";for(var n in e)t.indexOf(e[n].toLowerCase())>-1&&(a+=e[n]+", ");return a=a.substring(0,a.lastIndexOf(", "))}for(var n in e)if(e[n].toLowerCase()==t)return!0;return!1}function showAutoLinkList(t){if(void 0!==t)var e=t;else{var i=editor.selection.getRange().cloneContents();e="";i&&i.textContent.length>0&&(e=i.textContent)}var a=0;"undefined"!=typeof nClassID&&(a=nClassID);var n=$.ajax({url:"//"+strStaticUrl+"/object/UEAutolink/",async:!0,type:"post",data:{classID:a,key:e},beforeSend:function(){},complete:function(t){var e=$.parseJSON(n.responseText);if(0==e.state){swal({title:PublicLangData.editor.autolink.title,html:e.html,showConfirmButton:!1,cancelButtonText:PublicLangData.close,preConfirm:()=>{},allowOutsideClick:()=>!Swal.isLoading(),allowEscapeKey:()=>!Swal.isLoading(),showCancelButton:()=>!Swal.isLoading()}).then(t=>{t.value});var i=$.cookie("edit_autolink_custom"),a={};i&&(a=$.parseJSON(i),jQuery("#edit-autolink-style-text-"+a.style.text).length>0&&jQuery("#edit-autolink-style-text-"+a.style.text).attr("checked","checked"),jQuery("#edit-autolink-style-space").length>0&&1==a.style.space&&jQuery("#edit-autolink-style-space").prop("checked",!0));var r=editor.selection.getRange().cloneContents();(!r||r.textContent.length<1)&&(jQuery("#edit-autolink-style-text-0").parent().hide(),jQuery("#edit-autolink-style-text-1").click()),jQuery(".edit-autolink-list a").unbind("click").bind("click",function(){var t=editor.selection.getRange().cloneContents();switch(jQuery(".edit-autolink-style input[name='edit-autolink-style-text']:checked").val()){case"0":var e=t?t.textContent:"_(:з」∠)_";break;case"1":e=jQuery(this).attr("data-text-half");break;case"2":e=jQuery(this).attr("data-text-full");break;default:return!1}setAutoLink(jQuery(this).attr("data-type"),jQuery(this).attr("data-id"),e)}),jQuery(".edit-autolink-style input[name='edit-autolink-style-text']").unbind("click").bind("click",function(){var t=$.cookie("edit_autolink_custom"),e={};t&&(e=$.parseJSON(t)),void 0===e.style&&(e.style={}),e.style.text=jQuery(this).val();var i=JSON.stringify(e);$.cookie("edit_autolink_custom",i,{expires:365,path:"/",secure:!0})}),jQuery("#edit-autolink-style-space").unbind("click").bind("click",function(){var t=$.cookie("edit_autolink_custom"),e={};t&&(e=$.parseJSON(t)),void 0===e.style&&(e.style={}),e.style.space=jQuery(this).is(":checked")?1:0;var i=JSON.stringify(e);$.cookie("edit_autolink_custom",i,{expires:365,path:"/",secure:!0})})}else common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[e.state],"err")}})}function showMCIconList(){var t=$.ajax({url:"//"+strStaticUrl+"/object/UEMCIcon/",async:!0,type:"post",data:{icon:!0},beforeSend:function(){},complete:function(e){t.responseText.length>0?(swal({title:PublicLangData.editor.mcicon.title,html:t.responseText,showConfirmButton:!1,cancelButtonText:PublicLangData.close,preConfirm:()=>{},allowOutsideClick:()=>!Swal.isLoading(),allowEscapeKey:()=>!Swal.isLoading(),showCancelButton:()=>!Swal.isLoading()}).then(t=>{t.value}),jQuery(".common-mcicon-frame li").unbind("click").bind("click",function(){var t=jQuery(this).attr("data-tag");t&&(editor.execCommand("insertHtml","[icon:"+t+"]"),swal.close())})):common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[500],"err")}})}function setAutoLink(t,e,i){if("item"!=t&&"class"!=t&&"modpack"!=t&&"author"!=t||setInterval(e)<1||i.length<1)return!1;swal.close(),1==jQuery("#edit-autolink-style-space:checked").val()?editor.execCommand("insertHtml",'&nbsp;<a href="//www.mcmod.cn/'+t+"/"+e+'.html" target="_blank" title="'+i+'">'+i+"</a>&nbsp;"):editor.execCommand("insertHtml",'<a href="//www.mcmod.cn/'+t+"/"+e+'.html" target="_blank" title="'+i+'">'+i+"</a>")}function uknowtoomuch(){jQuery(".uknowtoomuch").each(function(){var t=jQuery(this).attr("data-by-uid"),e=jQuery(this).attr("data-by-nickname");if(null!=t&&null!=e&&""!=t&&""!=e){var i=sprintf(PublicLangData.editor.tucao.hover,e+"(uid:"+t+")");jQuery(this).attr("data-toggle","tooltip").attr("data-original-title",i)}else jQuery(this).removeAttr("data-toggle data-original-title title");jQuery(this).bind("click",function(){jQuery(this).hasClass("active")?jQuery(this).removeClass("active"):jQuery(this).addClass("active")}),jQuery(this).tooltip({animation:!1})})}function common_imgview(t){t.viewer({navbar:!1,fullscreen:!1,zoomRatio:.25,minZoomRatio:.25,maxZoomRatio:2,show:function(){jQuery(".viewer-canvas").bind("click",function(){var t=(new Date).getTime()-common_imgview_touchtime;t>0&&t<300?jQuery(".viewer-close").click():common_imgview_touchtime=(new Date).getTime()})}})}function removeHtmlTag(t){return t=(t=t.replace(/<\/?.+?>/g,"")).replace(/ /g,"")}function common_msg(t,e,i){var a="",n="";switch(i){case"ok":a="//www.mcmod.cn/ueditor/dialogs/emotion/images/mcmod/07.gif";break;default:a="//www.mcmod.cn/ueditor/dialogs/emotion/images/mcmod/11.gif",n="red"}iziToast.show({title:t,message:e,iconUrl:a,position:"topCenter",theme:"dark",color:n,progressBarColor:"#FFF",timeout:3e3})}function connect_error(t){switch(t){case"timeout":iziToast.show({title:PublicLangData.warning.timeout.title,message:PublicLangData.warning.timeout.content,iconUrl:"//www.mcmod.cn/ueditor/dialogs/emotion/images/mcmod/11.gif",position:"topCenter",theme:"dark",color:"red",timeout:3e3});break;case"error":iziToast.show({title:PublicLangData.warning.error.title,message:PublicLangData.warning.error.content,iconUrl:"//www.mcmod.cn/ueditor/dialogs/emotion/images/mcmod/11.gif",position:"topCenter",theme:"dark",color:"red",timeout:3e3});break;default:iziToast.show({title:PublicLangData.warning.unknown.title,message:PublicLangData.warning.unknown.content,iconUrl:"//www.mcmod.cn/ueditor/dialogs/emotion/images/mcmod/11.gif",position:"topCenter",theme:"dark",color:"red",timeout:3e3})}}function decodeUnicode(t){return!!t&&(t=t.replace(/\\/g,"%"),t=(t=(t=unescape(t)).replace(/%/g,"\\")).replace(/\\/g,""))}function randStr(t){t=t||32;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_",a=e.length,n="";for(i=0;i<t;i++)n+=e.charAt(Math.floor(Math.random()*a));return n}function setCommonSelect(t){if(t.next("form").children(".common-select").length>0)return!1;t.after('<form class="common-select-form" style="position:absolute;white-space:nowrap;" action="javascript:void(0);"><div class="common-select"><span class="fas fa-times find-close"></span><input class="form-control find-key" type="text" maxlength="100" /><input class="btn btn-dark find-btn" type="submit" value="'+PublicLangData.search.button+'" /><ul class="find-list"></ul></div></form>'),t.click(function(){t.parent().children(".common-select-form").children().slideUp(100),t.next().children().slideDown(100)}),t.next().children().children(".find-close").click(function(){t.next().children().slideUp(100)}),t.next().children().children(".find-btn").click(function(){var e=jQuery(this).prev().val().trim(),i=jQuery(this).next(),a=t.attr("mcmod-key");e.length>0?getCommonSelectResult(i,e,a):i.html("<p>请输入搜索的内容！</p>")})}function getCommonSelectResult(t,e,i){t.html('<p><img alt="loading" class="find-loading" src="//www.mcmod.cn/static/public/images/loading-colourful.gif" width="48" height="48"/></p>');var a={};a.key=e,a.type=i;var n=JSON.stringify(a),r=jQuery.ajax({url:"//"+strStaticUrl+"/object/CommonSelect/",async:!0,type:"post",data:{data:n},beforeSend:function(){},success:function(){if(r.responseText){var e=jQuery.parseJSON(r.responseText);0==e.state?t.html(e.html):common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[e.state],"err")}},error:function(t,e){connect_error(e)},timeout:timmeLimit})}function getCommonFormData(t){var e={};return t.find("input,select,a").each(function(i,a){if(!jQuery(this).attr("data-ignore"))if(jQuery(this).is("input"))switch(jQuery(this).attr("type")){case"text":case"hidden":if("true"==jQuery(this).attr("data-multi-enable")){null!=(o=jQuery(this).attr("data-multi-name"))&&(void 0===e[o]&&(e[o]={}),t.find("input[data-multi-name='"+o+"']").each(function(i,a){if("text"==jQuery(this).attr("type")||"hidden"==jQuery(this).attr("type")){var n=jQuery(this).attr("data-multi-id");if(""!=jQuery(this).val().trim())if(n){void 0===e[o][n]&&(e[o][n]={});var r=jQuery(this).attr("data-part");if(r)e[o][n][r]=jQuery(this).val().trim();else t.find("input[data-multi-name='"+o+"'][data-multi-id='"+n+"']").length>1?t.find("input[data-multi-name='"+o+"'][data-multi-id='"+n+"']").each(function(t,i){e[o][n][t]=jQuery(this).val().trim()}):e[o][n]=jQuery(this).val().trim()}else e[o][i]=jQuery(this).val().trim()}}))}else{var n=jQuery(this).attr("id"),r=jQuery(this).val().trim();r&&n&&(e[n]=r)}break;case"radio":case"checkbox":var o=jQuery(this).attr("name"),c=jQuery(this).attr("data-multi-name");null!=c&&(void 0===e[c]&&(e[c]={}),t.find("input[name='"+o+"']").each(function(i,a){if("radio"==jQuery(this).attr("type")||"checkbox"==jQuery(this).attr("type")){var n=jQuery(this).attr("data-multi-id");if(jQuery(this).is(":checked"))if(n){void 0===e[c][n]&&(e[c][n]={});var r=jQuery(this).attr("data-part");if(r)t.find("input[name='"+o+"'][data-multi-id='"+n+"'][data-part='"+r+"']").length>0?(void 0===e[c][n][r]&&(e[c][n][r]={}),e[c][n][r][i]=jQuery(this).val().trim()):e[c][n][r]=jQuery(this).val().trim();else e[c][n][i]=jQuery(this).val().trim()}else e[c]=jQuery(this).val().trim()}}))}else if(jQuery(this).is("select")){o=jQuery(this).attr("data-multi-name"),n=jQuery(this).attr("data-multi-id");null!=o&&null!=n&&(void 0===e[o][n]&&(e[o][n]={}),t.find("select[data-multi-name='"+o+"'][data-multi-id='"+n+"']").each(function(t,i){var a=jQuery(this).selectpicker("val");a&&(Array.isArray(a)?e[o][n][t]=a.toString():e[o][n][t]=a.trim())}))}else if(jQuery(this).is("a")){o=jQuery(this).attr("data-multi-name"),n=jQuery(this).attr("data-multi-id");null!=o&&null!=n&&(void 0===e[o][n]&&(e[o][n]={}),t.find("a[data-multi-name='"+o+"'][data-multi-id='"+n+"']").each(function(t,i){"true"==jQuery(this).attr("data-category-selected")&&(e[o][n][t]=jQuery(this).attr("data-multi-value").trim())}))}}),e}function resizeFrameMinHeight(t,e){setTimeout(function(){jQuery(e).css("min-height",jQuery(t).height())},200)}function setInputLimit(t){jQuery(t).each(function(t,e){var a=jQuery(this).attr("data-limit-type");if(void 0!==a)switch(a){case"int":jQuery(this).on("propertychange change input",function(){var t=jQuery(this).val();if(""!=t){var e=t.replace(/\D/g,"");(e!=t||e<1||e>2147483647)&&(jQuery(this).val(e),e<1&&""!=e&&jQuery(this).val(1),e>2147483647&&""!=e&&jQuery(this).val(2147483647),common_input_limit_cd||(common_msg(PublicLangData.warning.limit.int.title,PublicLangData.warning.limit.int.content,"err"),common_input_limit_cd=!0,setTimeout(function(){common_input_limit_cd=!1},3e3)))}});break;case"enstr":jQuery(this).on("propertychange change input",function(){var t=jQuery(this).val();if(""!=t){var e=t.replace(/[^\w\.\/]/gi,"");e!=t&&(jQuery(this).val(e),common_input_limit_cd||(common_msg(PublicLangData.warning.limit.enstr.title,PublicLangData.warning.limit.enstr.content,"err"),common_input_limit_cd=!0,setTimeout(function(){common_input_limit_cd=!1},3e3)))}});break;case"enstring":jQuery(this).on("propertychange change input",function(){var t=jQuery(this).val();if(""!=t){var e=[";",":","'",'"',"|","!","?","@","#","$","%","^","&","*","(",")","_","+",".",",","1","2","3","4","5","6","7","8","9","0","-","=","\\","/","<",">","{","}","[","]","`","~","A","a","B","b","C","c","D","d","E","e","F","f","G","g","H","h","I","i","J","j","K","k","L","l","M","m","N","n","O","o","P","p","Q","q","R","r","S","s","T","t","U","u","V","v","W","w","X","x","Y","y","Z","z","А","а","Б","б","В","в","Г","г","Д","д","Е","е","Ё","ё","Ж","ж","З","з","И","и","Й","й","К","к","Л","л","М","м","Н","н","О","о","П","п","Р","р","С","с","Т","т","У","у","Ф","ф","Х","х","Ц","ц","Ч","ч","Ш","ш","Щ","щ","ъ","ы","ь","Э","э","Ю","ю","Я","я","À","Â","È","É","Ê","Ë","Î","Ï","Ô","Ö","Ù","Û","Ç","Œ","Æ","€","à","â","è","é","ê","î","ï","ô","ö","ù","û","ü","ç","œ","æ","Ñ","ñ","Ä","ä","ẞ","ß","Ü","ð","þ","Ƿ","Α","α","Β","β","Γ","γ","Δ","δ","Ε","ε","Ζ","ζ","Η","η","Θ","θ","Ι","ι","Κ","κ","Λ","λ","Μ","μ","Ν","ν","Ξ","ξ","Ο","ο","Π","π","Ρ","ρ","Σ","σ","ς","Τ","τ","Υ","υ","Φ","φ","Χ","χ","Ψ","ψ","Ω","ω"],a=t;for(i=0;i<t.length;i++){var n=t.charAt(i);in_array(n,e,!0)||(a=a.replace(n,"",a))}a!=t&&(jQuery(this).val(a),common_input_limit_cd||(common_msg(PublicLangData.warning.limit.enstring.title,PublicLangData.warning.limit.enstring.content,"err"),common_input_limit_cd=!0,setTimeout(function(){common_input_limit_cd=!1},3e3)))}});break;case"per":jQuery(this).on("propertychange change input",function(){var t=jQuery(this).val();if(""!=t){var e=t.replace(/[^\d\.]/g,"");(e!=t||e<0||e>100)&&(jQuery(this).val(e),e<0&&""!=e&&jQuery(this).val(0),e>100&&""!=e&&jQuery(this).val(100),common_input_limit_cd||(common_msg(PublicLangData.warning.limit.per.title,PublicLangData.warning.limit.per.content,"err"),common_input_limit_cd=!0,setTimeout(function(){common_input_limit_cd=!1},3e3)))}})}})}function setCustomSetting(t,e){var i=$.cookie("_custom"),a={};i&&(a=$.parseJSON(i)),a[t]=e;var n=JSON.stringify(a);$.cookie("_custom",n,{expires:365,path:"/",secure:!0})}function getCustomSetting(t){var e=$.cookie("_custom"),i={},a="";return e&&(i=$.parseJSON(e)),void 0!==i[t]&&(a=i[t]),a}function copySharelink(t,e){var i=t.parent().parent().attr("data-category"),a=new ClipboardJS(t[0],{text:function(){return Base64.decode(e)}});a.on("success",function(t){b_sharelink_limit&&common_msg(PublicLangData.remind,PublicLangData[i].share.complete,"ok"),a.destroy()})}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,i,a,n,r,o,c,s="",l=0;for(t=Base64._utf8_encode(t);l<t.length;)n=(e=t.charCodeAt(l++))>>2,r=(3&e)<<4|(i=t.charCodeAt(l++))>>4,o=(15&i)<<2|(a=t.charCodeAt(l++))>>6,c=63&a,isNaN(i)?o=c=64:isNaN(a)&&(c=64),s=s+this._keyStr.charAt(n)+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(c);return s},decode:function(t){var e,i,a,n,r,o,c="",s=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<t.length;)e=this._keyStr.indexOf(t.charAt(s++))<<2|(n=this._keyStr.indexOf(t.charAt(s++)))>>4,i=(15&n)<<4|(r=this._keyStr.indexOf(t.charAt(s++)))>>2,a=(3&r)<<6|(o=this._keyStr.indexOf(t.charAt(s++))),c+=String.fromCharCode(e),64!=r&&(c+=String.fromCharCode(i)),64!=o&&(c+=String.fromCharCode(a));return c=Base64._utf8_decode(c)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?e+=String.fromCharCode(a):a>127&&a<2048?(e+=String.fromCharCode(a>>6|192),e+=String.fromCharCode(63&a|128)):(e+=String.fromCharCode(a>>12|224),e+=String.fromCharCode(a>>6&63|128),e+=String.fromCharCode(63&a|128))}return e},_utf8_decode:function(t){for(var e="",i=0,a=c1=c2=0;i<t.length;)(a=t.charCodeAt(i))<128?(e+=String.fromCharCode(a),i++):a>191&&a<224?(c2=t.charCodeAt(i+1),e+=String.fromCharCode((31&a)<<6|63&c2),i+=2):(c2=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),i+=3);return e}};function deepCompareObject(t,e){var i,a,n,r;function o(t,e){var i;if(isNaN(t)&&isNaN(e)&&"number"==typeof t&&"number"==typeof e)return!0;if(t===e)return!0;if("function"==typeof t&&"function"==typeof e||t instanceof Date&&e instanceof Date||t instanceof RegExp&&e instanceof RegExp||t instanceof String&&e instanceof String||t instanceof Number&&e instanceof Number)return t.toString()===e.toString();if(!(t instanceof Object&&e instanceof Object))return!1;if(t.isPrototypeOf(e)||e.isPrototypeOf(t))return!1;if(t.constructor!==e.constructor)return!1;if(t.prototype!==e.prototype)return!1;if(n.indexOf(t)>-1||r.indexOf(e)>-1)return!1;for(i in e){if(e.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;if(typeof e[i]!=typeof t[i])return!1}for(i in t){if(e.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;if(typeof e[i]!=typeof t[i])return!1;switch(typeof t[i]){case"object":case"function":if(n.push(t),r.push(e),!o(t[i],e[i]))return!1;n.pop(),r.pop();break;default:if(t[i]!==e[i])return!1}}return!0}if(arguments.length<1)return!0;for(i=1,a=arguments.length;i<a;i++)if(n=[],r=[],!o(arguments[0],arguments[i]))return!1;return!0}function color16ToRGB(t){if(!/^#([0-9A-Fa-f]{3}|[0-9A-Fa-f]{6})$/.test(t))return;let e=t.toLowerCase().replace(/\#/g,""),i=e.length;if(3==i){let t="";for(var a=0;a<i;a++)t+=e.slice(a,a+1).concat(e.slice(a,a+1));e=t}let n=[];for(a=0;a<6;a+=2){let t=e.slice(a,a+2);n.push(parseInt("0x"+t))}return"rgb("+n.join(",")+")"}function colorRGBTo16(t){if(!/^(rgb|RGB)/.test(t))return;var e=t.slice(4,t.length-1).split(",");let i="#";for(var a=0;a<e.length;a++){var n=Number(e[a]).toString(16);"0"==n&&(n+="0"),i+=n}return i}function colorHSBToRGB(t,e,i){e/=100,i/=100;var a=0,n=0,r=0,o=parseInt(t/60%6),c=t/60-o,s=i*(1-e),l=i*(1-c*e),u=i*(1-(1-c)*e);switch(o){case 0:a=i,n=u,r=s;break;case 1:a=l,n=i,r=s;break;case 2:a=s,n=i,r=u;break;case 3:a=s,n=l,r=i;break;case 4:a=u,n=s,r=i;break;case 5:a=i,n=s,r=l}return`rgb(${a=parseInt(255*a)},${n=parseInt(255*n)},${r=parseInt(255*r)})`}function colorRGBToHSB(t){var e=0,i=0,a=0,n=t[0],r=t[1],o=t[2];t.sort(function(t,e){return t-e});var c=t[2],s=t[0];return a=c/255,i=0===c?0:1-s/c,c===s?e=0:c===n&&r>=o?e=(r-o)/(c-s)*60+0:c===n&&r<o?e=(r-o)/(c-s)*60+360:c===r?e=(o-n)/(c-s)*60+120:c===o&&(e=(n-r)/(c-s)*60+240),[e=parseInt(e),i=parseInt(100*i),a=parseInt(100*a)]}