function fuc_topmenu_v4(){var e=new Array(null,null);function t(t){e[0]=setTimeout(function(){var e=t.children(".header-panel");if(0==e.length)return!1;t.addClass("hover"),t.children(".header-menu-item, .header-user-name").children(".header-down").css("transform","rotate(180deg)"),t.children(".header-panel").css({opacity:"0",display:"inline"}),setTimeout(function(){e.css({opacity:"1",top:"50px"})},1)},200)}function a(t){clearTimeout(e[0]),clearTimeout(e[1]),t.removeClass("hover"),t.children(".header-menu-item, .header-user-name").children(".header-down").css("transform",""),t.children(".header-panel").css({opacity:"0",top:""}),e[1]=setTimeout(function(){t.children(".header-panel").css({opacity:"",display:"none"})},300)}jQuery(".header-menu-widget").hover(function(){t(jQuery(this))},function(){a(jQuery(this))}),jQuery(".header-mobilemenu").click(function(){var e=jQuery(this);e.children("#header-mobilemenu-switch").children("i").hasClass("fa-reorder")?(t(e),e.children("#header-mobilemenu-switch").children("i").removeClass("fa-reorder").addClass("fa-close")):(a(e),e.children("#header-mobilemenu-switch").children("i").removeClass("fa-close").addClass("fa-reorder"))}),jQuery(".header-user-info").hover(function(){var e=jQuery(this);t(e),jQuery(".header-user .header-user-name a").css("color","#EEE"),e.children(".header-user-avatar").find("img").css({transform:"rotate(15deg)"}),setTimeout(function(){e.children(".header-user-avatar").find("img").css({transform:""})},200)},function(){a(jQuery(this)),jQuery(".header-user .header-user-name a").css("color","")});var o=new Array(null,null);jQuery("#header-search-switch").click(function(){var e=jQuery(this);e.children("i").hasClass("fa-search")?(clearTimeout(o[0]),clearTimeout(o[1]),jQuery(".header-search form").css({display:"inline-block",opacity:"0"}),setTimeout(function(){jQuery(".header-search form").css({"margin-right":"8px",opacity:"1"})},1),setTimeout(function(){jQuery(".header-search form").css({opacity:""})},2),e.children("i").removeClass("fa-search").addClass("fa-close"),jQuery("#header-search-input").focus()):(jQuery(".header-search form").css({"margin-right":"0",opacity:"0"}),o[0]=setTimeout(function(){jQuery(".header-search form").css({display:"none"})},300),o[1]=setTimeout(function(){jQuery(".header-search form").css({opacity:""})},301),e.children("i").removeClass("fa-close").addClass("fa-search"))})}jQuery(document).on("click",".dropdown-group .dropdown-menu li",function(){var e=jQuery(this).attr("data-val"),t=jQuery(this).text();jQuery(this).parent().prev().val(e).text(t)}),jQuery(".common-slogan").length>0&&(jQuery(".common-slogan").show(),setInterval("sloganLight()",500)),jQuery(document).on("click",".header-area .main-nav .menu-trigger",function(){"fa fa-close"==jQuery(this).children().attr("class")?(jQuery(".header-area .main-nav .nav").hide(),jQuery(this).children().attr("class","fa fa-bars")):(jQuery(".header-area .main-nav .nav").show(),jQuery(this).children().attr("class","fa fa-close"))}),fuc_topmenu_v4(),jQuery(document).on("click",".waifu .waifu-tool .fui-home",function(){window.location="/"}),jQuery(document).on("click",".linkTips_hide",function(){swal({title:"要关闭站外跳转提示吗？",text:"关闭提示后将无法确定风险链接，确定吗？",type:"warning",showCancelButton:!0,cancelButtonText:"再想想",confirmButtonText:"确定关闭",preConfirm:()=>{jQuery.cookie("hideLinkTips",!0,{expires:365,path:"/"}),setTimeout(function(){swal("操作成功","已关闭站外跳转提示，刷新后生效。","success")},200)}})}),jQuery(document).on("mouseover",".tab_table tr",function(){jQuery(this).find(".tab_table_tool").show()}),jQuery(document).on("mouseout",".tab_table tr",function(){jQuery(this).find(".tab_table_tool").hide()}),jQuery(document).on("mousemove",".item-table-hover",function(e){var t=jQuery(this).attr("item-id");jQuery(window).bind("keypress",function(e){82==e.which||114==e.which?window.location="https://www.mcmod.cn/item/tab/"+t+".html":85!=e.which&&117!=e.which||(window.location="https://www.mcmod.cn/item/tab/"+t+".html?useful=true")})}),jQuery(document).on("mouseleave",".item-table-hover",function(e){jQuery(window).unbind("keypress")}),jQuery(".ignore-enter-submit").length>0&&jQuery(document).on("keydown",".ignore-enter-submit",function(e){if(13==event.keyCode)return!1});try{window.console&&window.console.log&&console.log("                                         __                         \n                                        /\\ \\                        \n  ___ ___     ___    ___ ___     ___    \\_\\ \\        ___    ___     \n/' __` __`\\  /'___\\/' __` __`\\  / __`\\  /'_` \\      /'___\\/' _ `\\   \n/\\ \\/\\ \\/\\ \\/\\ \\__//\\ \\/\\ \\/\\ \\/\\ \\L\\ \\/\\ \\L\\ \\  __/\\ \\__//\\ \\/\\ \\  \n\\ \\_\\ \\_\\ \\_\\ \\____\\ \\_\\ \\_\\ \\_\\ \\____/\\ \\___,_\\/\\_\\ \\____\\ \\_\\ \\_\\ \n \\/_/\\/_/\\/_/\\/____/\\/_/\\/_/\\/_/\\/___/  \\/__,_ /\\/_/\\/____/\\/_/\\/_/ \n\n欢迎来到MC百科！")}catch(e){}jQuery("[data-toggle='tooltip']").tooltip({animation:!1,delay:{show:200}}),jQuery(document).on("mouseover",".def-nav,.info-i",function(){jQuery(this).find(".pulldown-nav").addClass("hover"),jQuery(this).find(".pulldown").show()}),jQuery(document).on("mouseout",".def-nav,.info-i",function(){jQuery(this).find(".pulldown").hide(),jQuery(this).find(".pulldown-nav").removeClass("hover")});var b_AdLeftSide=!1;jQuery(document).scroll(function(){jQuery(".common-back-to-top").length>0&&(jQuery(window).scrollTop()>450?jQuery(".common-back-to-top").is(":hidden")&&(jQuery(".common-back-to-top").show(),jQuery(".common-back-to-top").stop().animate({bottom:"50px"},200).animate({bottom:"20px"},400)):jQuery(".common-back-to-top").is(":hidden")||(jQuery(".common-back-to-top").hide(),jQuery(".common-back-to-top .bticon").stop().removeAttr("style")))}),jQuery(document).on("click","#common-logout-btn",function(){jQuery.ajax({url:"//www.mcmod.cn/action/doLogout/",async:!0,type:"post",data:{},beforeSend:function(){},success:function(){jQuery.cookie("_uuid",null,{domain:".mcmod.cn",path:"/"}),window.location.reload()},error:function(e,t){connect_error(t)},timeout:timmeLimit})}),jQuery(document).on("click",".top-main .search_btn",function(){0==searchBtn?(jQuery(".top-main .search_box").stop().slideDown(100),jQuery(".top-main .search_box #key")[0].focus(),searchBtn=!0):(jQuery(".top-main .search_box").stop().slideUp(100),searchBtn=!1)}),new Swiper(".common-menu-page",{slidesPerView:"auto",freeMode:!0}),jQuery(document).on("click",".common-menu-page li",function(){var e=jQuery(this).children("a").attr("data-toggle");e&&(jQuery(".tab-content .tab-pane,.common-menu-page li").removeClass("active"),jQuery("#"+e).addClass("active"),jQuery(this).addClass("active"))}),jQuery("img.lazy").each(function(){var e=jQuery(this).attr("width"),t=jQuery(this).attr("height");e&&jQuery(this).removeAttr("width").attr("data-width",e),t&&jQuery(this).removeAttr("height").attr("data-height",t),jQuery(this).lazyload({effect:"fadeIn"}).load(function(){e&&jQuery(this).attr("width",e),t&&jQuery(this).attr("height",t)})});var common_imgview_touchtime=(new Date).getTime();if(common_imgview(jQuery(".common-text")),jQuery(".common-text").length>0){function setCommonMenu(e,t){if(e.find(".common-tag-ban[data-type='title-menu']").length>0)return!1;var a="",o=1,n=1,r=1,i=1,c=1,s=0;if(e.find(".common-text-title").each(function(){if(!t&&jQuery(this).parents().hasClass("quote_text"))return!0;var e="ctm-title-"+randStr(8);jQuery(this).attr("id",e);var u="";if(jQuery(this).hasClass("common-text-title-1")){u="l1";s=o,o++,n=1,r=1,i=1,c=1}else if(jQuery(this).hasClass("common-text-title-2")){u="l2";s=o-1+"."+n,n++,r=1,i=1,c=1}else if(jQuery(this).hasClass("common-text-title-3")){u="l3";s=o-1+"."+(n-1)+"."+r,r++,i=1,c=1}else if(jQuery(this).hasClass("common-text-title-4")){u="l4";s=o-1+"."+(n-1)+"."+(r-1)+"."+i,i++,c=1}else if(jQuery(this).hasClass("common-text-title-5")){u="l5";s=o-1+"."+(n-1)+"."+(r-1)+"."+(i-1)+"."+c,c++}u&&(a+='<li class="'+u+'"><a href="javascript:void(0);" data-for="'+e+'"><span>'+s+" </span>"+jQuery(this).text()+"</a></li>")}),a.length>0){var u="H";"V"==getCustomSetting("text-menu-style")&&(u="V");var l="ctm-"+randStr(8);e.prepend('<div data-id="'+l+'" class="common-text-menu'+("V"==u?" style-vertical":"")+'"><ul><li class="title"><i class="fa fa-chevron-circle-'+("H"==u?"right":"down")+' common-text-menu-style-button pointer"></i> '+PublicLangData.catalog+":</li>"+a+"</ul></div>");var m=e.find(".common-tag-mark[data-type='title-menu']");m.length>0&&m.each(function(){if(!t&&jQuery(this).parents().hasClass("quote_text"))return!0;var e=jQuery(".common-text-menu[data-id='"+l+"']").clone();jQuery(".common-text-menu[data-id='"+l+"']").remove(),jQuery(this).html(e)})}jQuery(".common-text-menu[data-id='"+l+"']").find("a").on("click",function(){var e=jQuery(this).attr("data-for");jQuery("html,body").animate({scrollTop:jQuery("#"+e).offset().top-80},300)})}jQuery(".common-text").each(function(){setCommonMenu(jQuery(this),!1)}),jQuery(".quote_text").each(function(){setCommonMenu(jQuery(this),!0)}),jQuery(document).on("click",".common-text-menu-style-button",function(){jQuery(this).hasClass("fa-chevron-circle-right")?(jQuery(".common-text-menu-style-button").removeClass("fa-chevron-circle-right").addClass("fa-chevron-circle-down"),jQuery(".common-text-menu").addClass("style-vertical"),setCustomSetting("text-menu-style","V")):(jQuery(".common-text-menu-style-button").removeClass("fa-chevron-circle-down").addClass("fa-chevron-circle-right"),jQuery(".common-text-menu").removeClass("style-vertical"),setCustomSetting("text-menu-style","H"))})}jQuery(document).on("click",".common-search-btn",function(){var e=jQuery(this).attr("data-search-tableid"),t=jQuery(this).attr("data-search-type"),a="";switch(t){case"getModByModID":a='<form action="javascript:void(0);"><p><label for="common-search-key">搜索模组:</label></p><div class="input-group"><input id="common-search-key" type="text" class="form-control" placeholder="搜索模组.."><button id="common-search-btn" class="btn btn-dark" type="submit" data-table-id="'+e+'" data-type="'+t+'">提交</button></div><div id="common-search-list"></div></form>'}if(!a)return!1;var o='<div class="modal" id="common-search-window" tabindex="-1" role="dialog" aria-labelledby="common-search-window-label" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="modal-title" id="common-search-window-label" style="margin:0">搜索与筛选</h4><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div><div id="common-search-window-frame" class="modal-body">'+a;jQuery("body").append(o),jQuery("#common-search-window").modal("show"),jQuery("#common-search-key").focus()}),jQuery(document).on("click","#common-search-btn",function(){var e={};if(e.type=jQuery(this).attr("data-type"),e.key=jQuery("#common-search-key").val().trim(),e.tableID=jQuery(this).attr("data-table-id"),0==e.key.length)return jQuery("#common-search-key").focus(),!1;var t=JSON.stringify(e),a=jQuery.ajax({url:"//"+strStaticUrl+"/object/CommonSearch/",async:!0,type:"post",data:{data:t},xhrFields:{withCredentials:!0},crossDomain:!0,beforeSend:function(){jQuery("#common-search-list").html('<img alt="'+PublicLangData.loading+'.." src="//'+strStaticUrl+'/static/public/images/loading-colourful.gif" style="display: block;margin: 0 auto;"/>')},complete:function(){if(a.responseText){var e=jQuery.parseJSON(a.responseText);0==e.state?jQuery("#common-search-list").html(e.html):common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[e.state],"err")}},error:function(e,t){connect_error(t)},timeout:timmeLimit})}),jQuery(document).on("hide.bs.modal","#common-search-window",function(){jQuery(this).remove()}),jQuery("span[mcmod-type='common-select']").each(function(e,t){setCommonSelect(jQuery(this))}),jQuery(document).on("click",".common-back-to-top",function(){var e=1e3-jQuery(window).scrollTop()/2;e<0&&(e=200),jQuery("body,html").animate({scrollTop:0},e)});var common_input_limit_cd=!1;setInputLimit("input[data-limit-enable='true']"),"undefined"==typeof bCommonTextTable_hidden&&jQuery(".common-text").length>0&&jQuery(".common-text table").each(function(){jQuery(this).addClass("table table-bordered text-nowrap").wrap('<div class="table-scroll"></div>')}),jQuery(document).on("click",".common-link-icon-frame li",function(){jQuery(".tooltip").tooltip("hide")}),jQuery(document).on("click",".common-fuc-group .like",function(){var e="fuc-"+randStr(8);if(jQuery(this).attr("data-rand",e),0==jQuery("#common-fuc-favorite-frame").length){var t='<div class="modal fade" id="common-fuc-favorite-frame" tabindex="-1" role="dialog" aria-labelledby="common-fuc-favorite-frame" aria-hidden="true"><div class="modal-dialog modal-dialog-centered" role="document" style="max-width:350px;"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">'+PublicLangData.center.favorite.solt.create.button+'</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"></div></div></div></div>';jQuery("body").append(t)}jQuery("#common-fuc-favorite-frame").attr("data-rand",e).modal("show");var a=jQuery("#common-fuc-favorite-frame .modal-body"),o=jQuery(".common-fuc-group .like[data-rand='"+jQuery("#common-fuc-favorite-frame").attr("data-rand")+"']").parent().parent(),n={};n.slotCategory=o.attr("data-category"),n.slotID=o.attr("data-id");var r=JSON.stringify(n),i=jQuery.ajax({url:"//"+strCenterUrl+"/object/FavoriteFoldList/",async:!0,type:"post",data:{data:r},xhrFields:{withCredentials:!0},crossDomain:!0,beforeSend:function(){a.html('<img alt="'+PublicLangData.loading+'.." class="loading" src="//'+strStaticUrl+'/static/public/images/loading-colourful.gif" style="display: block;margin: 0 auto;"/>')},complete:function(e){if(i.responseText){var t=jQuery.parseJSON(i.responseText);0==t.state?a.html(t.html):common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[t.state],"err")}else common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[100],"err")},error:function(e,t){connect_error(t)},timeout:timmeLimit})}),jQuery(document).on("click","#common-fuc-favorite-button",function(){var e=jQuery(this),t={};if(!(jQuery("#common-fuc-favorite-frame input[name='common-fuc-favorite-select']:checked").length>0))return common_msg(PublicLangData.warning.inform.title,PublicLangData.center.favorite.solt.warning.select_fold,"err"),!1;jQuery("#common-fuc-favorite-frame input[name='common-fuc-favorite-select']:checked").each(function(e){t[e]=jQuery(this).val()});var a=jQuery(".common-fuc-group .like[data-rand='"+jQuery("#common-fuc-favorite-frame").attr("data-rand")+"']").parent().parent(),o={};o.foldList=t,o.slotCategory=a.attr("data-category"),o.slotID=a.attr("data-id");var n=JSON.stringify(o),r=jQuery.ajax({url:"//"+strCenterUrl+"/action/doFavoriteCreateSlot/",async:!0,type:"post",data:{data:n},xhrFields:{withCredentials:!0},crossDomain:!0,beforeSend:function(){e.attr("disabled",!0)},complete:function(e){if(jQuery("#common-fuc-favorite-frame").modal("hide"),r.responseText){var t=jQuery.parseJSON(r.responseText);if(0==t.state){var a=jQuery(".common-fuc-group .like[data-rand='"+jQuery("#common-fuc-favorite-frame").attr("data-rand")+"']"),o=a.find("i"),n=a.children(".nums"),i=parseInt(n.attr("title")),c=a.find("span");o.hasClass("far")&&(o.removeClass("far").addClass("fas"),n.text(i+1).attr("title",i+1),c.text(PublicLangData.class.like.off)),common_msg(PublicLangData.remind,PublicLangData.center.favorite.solt.create.complete,"ok")}else common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[t.state],"err")}else common_msg(PublicLangData.warning.inform.title,PublicLangData.warning.inform[100],"err")},error:function(e,t){connect_error(t)},timeout:timmeLimit})});var b_sharelink_limit=!1;function setLine(e){var t=e.find(".gutter .line"),a=e.find(".code .line");for(i=0;i<jQuery(t).length;i++)jQuery(t).eq(i).css("height",jQuery(a).eq(i).css("height"))}jQuery(document).on("mouseover",".common-linkshare",function(){if(!b_sharelink_limit){var e=jQuery(this),t=e.attr("data-clipboard");b_sharelink_limit=!0,copySharelink(e,t)}}),jQuery(document).on("click",".common-linkshare",function(){var e=jQuery(this),t=e.attr("data-clipboard");t.length>0&&copySharelink(e,t)}),jQuery("pre").length>0&&(jQuery("pre").each(function(){jQuery(this).html(jQuery(this).html().replace(RegExp("<br>","g"),"\n"))}),SyntaxHighlighter.all()),setTimeout(function(){jQuery(".syntaxhighlighter").each(function(){jQuery(this).hasClass("cb")&&setLine(jQuery(this))})},500);